<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>To-Do List</title>
    <style>
        body{
            font-family: sans-serif;
            text-align: center;
            padding: 50px;
        }

        input[type="text"] {
            padding: 10px;
            width: 200px;
            font-size: 16px;
        }

        button{
            padding: 10px 15px;
            margin-left: 5px;
            font-size: 16px;
            cursor: pointer;
        }

        ul{
            list-style: none;
            padding: 0;
            margin-top: 20px;
        }

        li{
            text-align: left;
            margin: 10px 0;
            font-size: 18px;
        }

        .delete-btn{
            margin-left: 10px;
            background-color: tomato;
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 5px;
        }
        
    </style>
</head>
<body>
    <h1>üìù To-Do List</h1>
    <input type="text" id="todo-input" placeholder="Ìï† ÏùºÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî">
    <button id="add-btn">Ï∂îÍ∞Ä</button>

    <ul id="todo-list"></ul>

    <script>
        const input = document.getElementById("todo-input");
        const addBtn = document.getElementById("add-btn");
        const list = document.getElementById("todo-list");

        let todos = [];

        function saveTodos(){
            localStorage.setItem("todos", JSON.stringify(todos));
        }

        function loadTodos(){
            const data = localStorage.getItem("todos");
            if(data){
                todos = JSON.parse(data);
                todos.forEach(todo => renderTodo(todo.text, todo.done));
            }
        }

        function renderTodo(text, done = false){
            const li = document.createElement("li");

            const checkbox = document.createElement("input");
            checkbox.type = "checkbox";
            checkbox.style.marginRight = "10px";

            const span = document.createElement("span");
            span.innerText = text;

            if(done){
                span.style.textDecoration = "line-through";
                span.style.color = "gray";
            }
            
            checkbox.addEventListener("change", function(){
                span.style.textDecoration = checkbox.checked ? "line-through" : "none";
                span.style.color = checkbox.checked ? "gray" : "black";

                const idx = Array.from(list.children).indexOf(li);
                todos[idx].done = checkbox.checked;
                saveTodos();
            });

            const delBtn = document.createElement("button");
            delBtn.innerText = "ÏÇ≠Ï†ú";
            delBtn.classList.add("delete-btn");
            delBtn.addEventListener("click", function(){
                const idx = Array.from(list.children).indexOf(li);
                todos.splice(idx, 1);
                list.removeChild(li);
                saveTodos();
            });

            li.appendChild(checkbox);
            li.appendChild(span);
            li.appendChild(delBtn);
            list.appendChild(li);
        }

        function addTodo(){
            const todoText = input.value.trim();
            if(todoText === ""){
                alert("Ìï† ÏùºÏùÑ ÏûÖÎ†•Ìï¥Î≥¥ÏÑ∏Ïöî!");
                return;
            }
            
            todos.push({ text: todoText, done: false });
            renderTodo(todoText, false);
            saveTodos();

            input.value = "";
            input.focus();
        }


        addBtn.addEventListener("click", addTodo);
        input.addEventListener("keydown", function(e){
            if(e.key === "Enter"){
                addTodo();
            }
        });

        loadTodos();
    </script>
</body>
</html>